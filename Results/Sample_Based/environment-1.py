import matplotlib.pyplot as plt
import matplotlib.patches as patches

from matplotlib.font_manager import FontProperties

fontP = FontProperties()
fontP.set_size('x-small')

x_range = (0,50)
y_range = (0,30)

obs_boundary = [
    [0, 0, 1, 30],
    [0, 30, 50, 1],
    [1, 0, 50, 1],
    [50, 1, 1, 30]
]

obs_rectangle = [
    [10, 10, 30, 1, 0],
    [10, 10, 1, 15, 0],
    [10, 25, 25, 1, 0],
    [40, 10, 1, 15, 0]
]

fig, ax = plt.subplots()

for (ox, oy, w, h) in obs_boundary:
    ax.add_patch(
        patches.Rectangle(
            (ox, oy), w, h,
            edgecolor='black',
            facecolor='black',
            fill=True
        )
    )

for (ox, oy, w, h, a) in obs_rectangle:
    ax.add_patch(
        patches.Rectangle(
            (ox, oy), w, h,
            angle = a,
            edgecolor='black',
            facecolor='black',
            fill=True
        )
    )

rrt_path = [(30, 20), (30.621787251526353, 20.257321433258642), (31.083787750929048, 20.44851646078724), (31.545788250331743, 20.639711488315832), (31.575900690926552, 21.138803905530743), (31.981160535227975, 21.431659601389278), (32.3864203795294, 21.724515297247812), (32.79168022383082, 22.017370993106347), (33.196940068132236, 22.31022668896488), (33.60219991243366, 22.603082384823416), (34.00745975673509, 22.89593808068195), (34.505904371604785, 22.935345769111983), (34.92484947426324, 23.208265172889902), (35.343794576921695, 23.48118457666782), (35.242128375128644, 23.970739459610453), (35.640695305031805, 24.272640771942097), (36.03926223493497, 24.57454208427374), (36.43782916483813, 24.876443396605385), (36.72249981936735, 25.28749402420484), (37.04754157378869, 25.667425409961133), (37.36728583932229, 26.05182572819511), (37.799897138401946, 26.30251969283849), (38.20976447256562, 26.01614796171692), (38.70149529343762, 26.106706229172453), (39.122458948053236, 26.376501710032795), (39.55088360475526, 26.634285172515842), (39.99600351193794, 26.862031233359232), (40.42422581308421, 26.60391176334391), (40.89842572767611, 26.76245021609603), (41.391837900797206, 26.681552580679906), (41.85226505727414, 26.486599166812468), (42.35080883267075, 26.524731882599482), (42.84427596093375, 26.605293618702106), (43.31770438336498, 26.444465981667072), (43.79444581251089, 26.293742361302098), (44.282355367161045, 26.403032189196036), (44.687083911135076, 26.109442670151743), (45.13799452501608, 25.8933880051027), (45.59609285446443, 25.693023535805793), (46.09597082793969, 25.704069423469164), (46.46817191922623, 25.37020366055672), (46.763517125179376, 24.96675451962258), (46.60407792598541, 24.49285670177533), (46.303708854552326, 24.09313377157689), (46.309158459170185, 23.59316347064942), (46.0934689073964, 23.142078093746527), (45.81061401584392, 22.729775886227777), (45.6654827532859, 22.251302358612804), (45.78838840199603, 21.766643507960985), (45.4421618191602, 21.405912093557106), (45.17294980261597, 20.984575066762417), (44.985097561352795, 20.521205305715796), (44.498033555724724, 20.408206834834363), (44.540861087184005, 19.91004440896394), (44.37280774107499, 19.439132450248128), (44.45388028170996, 18.945748985633642), (44.08988849893552, 18.602951695573335), (44.38317439792498, 18.19800307975406), (44.26505688812259, 17.71215510571477), (44.16682439038944, 17.22189968617399), (44.17168367408746, 16.72192329936963), (44.050405668039915, 16.236854597793112), (44.30566076842932, 15.806918749409661), (44.50443987078298, 15.348130270404933), (44.86273600812605, 14.999384119221814), (44.75024324100156, 14.512203067307153), (44.51260181406535, 14.072286538629587), (44.93301999565466, 13.801641840567463), (45.10606966096439, 13.332542902883533), (45.258777113696176, 12.856433216067387), (45.14656822183357, 12.36918670290699), (45.23260492028427, 11.87664463717077), (44.92259264149632, 11.484353435382221), (44.92568242126574, 10.984362982212387), (44.9519582492865, 10.485053878688504), (44.918512121390904, 9.98617377633044), (44.99449830643555, 9.49198140520118), (44.925542398083095, 8.996759149336919), (44.52697156049142, 8.69486299596383), (44.41318383759252, 8.207982770325652), (44.520991705966956, 7.719743624500002), (44.66314410772589, 7.240376651634571), (44.523534499904365, 6.760262959469976), (44.46974708939525, 6.263164463726202), (44.33694223608176, 5.781124142864572), (44.07942515174445, 5.352539318968053), (43.584760065591404, 5.279693917320485), (43.20900246572487, 4.949836029522503), (42.962162402523404, 4.515014246261019), (42.476559508578426, 4.395893175949087), (42.02338414870427, 4.607156265964654), (41.59358128635024, 4.862635226962007), (41.12218217279862, 5.029317186821913), (40.6493269594705, 5.191822408979288), (40.195275358192006, 5.401195624497497), (39.73798167619442, 5.603389809391847), (39.31617987478509, 5.871873031079615), (38.87137072109232, 6.100225427150071), (38.50963041295513, 6.445397774635803), (38.43358238060826, 6.939580632266629), (37.933624880107686, 6.946099657747817), (37.459473090347, 7.104781982745706), (37.127702066550235, 7.478851478653687), (36.97890698753414, 7.9561983383485995), (36.726618938160435, 8.387881949507525), (36.28643479136814, 8.625027299267401), (35.806466006072526, 8.765134276759092), (35.60567031659489, 8.307224797618073), (35.20892173390871, 8.002937824291072), (34.82996032956215, 8.329109947587469), (34.33202735519138, 8.283692406545754), (33.88579725784541, 8.058129332833309), (33.59820641328699, 8.467142176306682), (33.101339170538324, 8.411258877519467), (32.80844597723431, 8.006026132894634), (32.3084465648269, 8.005259587231963), (31.813368282395086, 7.935277487632378), (31.45754307509973, 7.584010606396449), (31.294362114857282, 7.111388162775377), (31.13393528027675, 6.6378237735457075), (31.03167287657445, 6.148393083060294), (30.772142824155996, 5.721024212069819), (30.528632437949206, 5.284329018817798), (30.02870367986537, 5.29276921080331), (29.576090401243547, 5.0803045784166345), (29.077423501481686, 5.116791878698998), (28.657789198007052, 4.844933365226714), (28.166148645486775, 4.935980425132869), (27.755565745013982, 5.2213252723604775), (27.273755559228878, 5.087687909045706), (26.919274238439066, 4.735064890495995), (26.43839097360627, 4.872000224152994), (25.940316169401797, 4.828165427282529), (25.44149827138211, 4.8625268098976075), (25.014094080890867, 4.603054927123139), (24.557541289876582, 4.399193334327768), (24.09975417839962, 4.198118819369801), (23.640542061135815, 4.0003203579043705), (23.29055655731246, 3.6432347279589568), (22.790655407809055, 3.6531765952471367), (22.290879548489876, 3.6681462459370042), (21.79598685328908, 3.7394289243160523), (21.296499579617763, 3.7620665796803734), (20.79665579875958, 3.7495687903800046), (20.297197363000684, 3.7728340208597824), (19.809404752996965, 3.8826446288435212), (19.35496267736398, 3.6741202899897925), (18.862098887465244, 3.758294422635485), (18.834894838886157, 4.257553813875056), (18.360574994334502, 4.415733095275926), (17.9799620984896, 4.7399765586125975), (17.498520777661486, 4.874936754964261), (17.271608830266672, 4.429391057948238), (16.790016488012153, 4.2949707623013085), (16.65141036567506, 3.814566408812839), (16.17198785015604, 3.95653137496088), (15.809048649170176, 3.6126198508914724), (15.400079426304467, 3.900272722854569), (14.981326239837403, 4.1734865014669955), (14.505609189796326, 4.019560258414633), (14.006259808664964, 3.994061325814884), (13.50685243342975, 4.018397996924011), (13.044750242115025, 4.209347112612275), (12.544821704525706, 4.200893870405574), (12.11356575982945, 3.947875471540708), (11.680949219149948, 4.1985603907729985), (11.201079262412742, 4.3390054854578315), (10.859369314397611, 4.704018240615095), (10.431116626786444, 4.962087292525261), (9.954463029877331, 5.113088446671858), (9.722306454173864, 5.555923996687482), (9.406448552753782, 5.943524030369757), (9.37776458707935, 6.442700582416413), (9.252012602035748, 6.926628715776723), (9.00809059298231, 7.3630941250583), (8.57000365599208, 7.604091709358471), (8.086055211139005, 7.478417914459575), (7.591397425737958, 7.551312875479744), (7.132905825946763, 7.351849964338575), (7.286143067890002, 6.875910527349341), (6.853214888105329, 6.625764187883161), (6.51928966658562, 6.25361643976017), (6.1176472284892, 5.955818938226052), (5.695681839912671, 5.687592893921143), (5.420930819454217, 5.269846706916357), (5, 5)]
rrt_star_path = [[30, 20], [31.851529015760903, 18.79189990236691], [32.42440028024626, 19.27940111229761], [33.90014257298362, 20.519185349392195], [34.36839381232228, 22.277864673998742], [35.3723490202267, 23.202392429543913], [36.488418681389476, 24.43933808767819], [37.030677764726114, 24.951833996226014], [38.01189389402086, 25.479291261584198], [38.492576779938965, 26.160485096056348], [38.70859599947438, 26.25031972643188], [39.476468713073494, 25.70317087974621], [40.173512853747674, 25.707903107170548], [41.62943979244195, 25.6356301703008], [41.89950948269258, 25.310027907028704], [42.71346412313508, 24.413209139570416], [43.78387129943356, 22.77543957933178], [45.47907900109448, 21.15728652316197], [44.52025640462293, 19.200199781060515], [42.31566960199164, 9.446236636283723], [41.756493509025894, 9.062990442921473], [41.23258873988357, 8.853032615310909], [40.34563652514908, 8.853019062915779], [38.893373788897485, 7.62782521052298], [38.11605227623028, 7.621266078015153], [37.30803669988861, 7.584447956965163], [36.69612777217395, 7.558812939709197], [36.13580021267031, 7.3684728144454645], [34.779219169704724, 7.43600134925616], [33.681039666214566, 7.404146835921161], [30.884368260726205, 6.943817424478117], [28.09955879931191, 7.2282101412704005], [24.216361819114656, 6.738330967505946], [14.371056069829098, 8.490459588094271], [5, 5]]
bi_rrt_path = [(30, 20), (30.669980747654556, 19.562820634324716), (31.10671540974213, 20.233091351968902), (31.705326086083446, 20.763812802609625), (32.23502940069392, 21.363324602735926), (32.971645749168765, 21.051240711515025), (33.69348030092372, 21.396139073199638), (34.4377906566343, 21.689400210041853), (35.13258995282621, 22.085952776558862), (35.81737657270421, 22.499555587521336), (36.47056940733551, 22.961442067932197), (36.363942633980535, 23.754304433796477), (36.10413298628192, 24.510941035450614), (35.98471649961994, 25.30197814122588), (36.306555172301245, 26.034385042317574), (36.39620933913465, 26.829345500686046), (36.03627311729039, 27.543800479116793), (35.26344541708297, 27.750530607042332), (35.678763734798835, 28.43427814449286), (35.265700805025496, 28.327899121369704), (35.265700805025496, 28.327899121369704), (35.224237688475554, 28.32402364818317), (34.42770946152924, 28.249573774591855), (33.631181234582925, 28.175123901000536), (32.83465300763661, 28.10067402740922), (32.038124780690296, 28.0262241538179), (31.24159655374398, 27.951774280226584), (30.44506832679767, 27.877324406635264), (29.648540099851356, 27.802874533043948), (28.85201187290504, 27.72842465945263), (28.055483645958727, 27.653974785861315), (27.258955419012413, 27.57952491227), (26.462427192066098, 27.505075038678683), (25.665898965119784, 27.430625165087367), (24.86937073817347, 27.35617529149605), (24.072842511227154, 27.281725417904735), (23.27631428428084, 27.20727554431342), (22.479786057334525, 27.132825670722102), (21.68325783038821, 27.058375797130786), (20.886729603441896, 26.98392592353947), (20.090201376495582, 26.909476049948154), (19.293673149549267, 26.835026176356838), (18.497144922602953, 26.76057630276552), (17.700616695656638, 26.686126429174205), (16.904088468710324, 26.61167655558289), (16.10756024176401, 26.537226681991573), (15.307944252110604, 26.562011134590065), (14.51341134619991, 26.655378481264943), (13.719402407096558, 26.753101583057564), (12.927223729279918, 26.641508830547913), (12.184349138125404, 26.938388169365915), (11.446532289288921, 27.24762318933132), (10.708715440452439, 27.556858209296728), (9.91149190914049, 27.490265108133705), (9.115271364913397, 27.412593717321442), (8.46753285672627, 26.94308884512999), (8.316699474798554, 26.30327985165634), (8.577459822746537, 25.546970364119627), (7.8025301181823075, 25.348264669727154), (7.0208888910582585, 25.177862228254), (6.253443371336459, 24.95196983294389), (6.018928528128263, 24.187115083128585), (5.285708080182452, 23.867134185707904), (4.598792620637147, 23.457076687986348), (4.743962171636935, 22.67035831304998), (5.269460614898948, 22.067157363009947), (5.898627140802795, 21.57304251534588), (5.48318895657252, 20.889367800965235), (5.272326000957249, 20.11765748358624), (5.811663877296608, 19.526798232033258), (6.288850712021328, 18.884697986927087), (6.438218999378379, 18.09876598304124), (6.820561067722039, 17.396046591836832), (7.620325660433856, 17.376640504016205), (8.055650035555047, 16.70545298295719), (8.07640171758511, 15.90572217343881), (7.469195842818808, 15.384856523151438), (7.307084154874976, 14.601453816600074), (6.735652773567888, 14.04157331465571), (6.329761642540397, 13.352187798595773), (6.141923812559897, 12.574552312247436), (6.223711673238626, 11.778744077906023), (5.681291330261128, 11.190713320611668), (5.368081844919819, 10.454574870120029), (5.62911827668843, 9.698360627137584), (5.855229029770282, 8.930979413306572), (6.055119726161864, 8.156354530220515), (6.245703305962217, 7.379387414371664), (6.628672703647818, 6.677009709403512), (6.9965050411457215, 5.966587742196114), (6.292245141931728, 5.587090714066649), (5.798862301709269, 4.957349995219583), (5, 5)]
fmt_path = [(30, 20), (31.14657216845802, 20.46371236931273), (33.56307536982757, 22.60309322965109), (34.826421964460515, 23.49904881195394), (36.03590886899209, 24.83368992984744), (35.25354179075612, 27.7539803604357), (33.01537554728861, 28.301292791905716), (30.03635246685219, 28.708924694396142), (27.400725615995277, 29.326195782404245), (26.184055063371922, 29.45259489974492), (23.425109357479805, 29.33099439838269), (21.94524670337778, 29.09325972039043), (19.23589391613241, 28.831126029222688), (17.03015268805023, 28.735175792475093), (13.904571970857893, 28.89263718234861), (12.43155068148251, 28.48296831084676), (9.590879089529537, 27.263369223064682), (7.943214784510681, 24.727920518054237), (7.353251885023687, 23.825414068911144), (6.607672813133199, 21.163624173162578), (6.482497101915522, 18.788504769972064), (5.863336333729547, 15.761081790511625), (5.767938176531897, 13.651291940680075), (5.7695364100987545, 10.617687046878052), (5.344472187585628, 7.894518184160175), (5, 5)]

x1 = [0] * len(rrt_path)
y1 = [0] * len(rrt_path)
for i in range(len(rrt_path)):
    x1[i] = rrt_path[i][0]
    y1[i] = rrt_path[i][1]

x2 = [0] * len(rrt_star_path)
y2 = [0] * len(rrt_star_path)
for i in range(len(rrt_star_path)):
    x2[i] = rrt_star_path[i][0]
    y2[i] = rrt_star_path[i][1]

x3 = [0] * len(bi_rrt_path)
y3 = [0] * len(bi_rrt_path)
for i in range(len(bi_rrt_path)):
    x3[i] = bi_rrt_path[i][0]
    y3[i] = bi_rrt_path[i][1]

x4 = [0] * len(fmt_path)
y4 = [0] * len(fmt_path)
for i in range(len(fmt_path)):
    x4[i] = fmt_path[i][0]
    y4[i] = fmt_path[i][1]

plt.plot(x1,y1,'-')
plt.plot(x2,y2,'--')
plt.plot(x3,y3,'-.')
plt.plot(x4,y4,':')
plt.plot(5,5, "or")
plt.plot(30,20, "og")
plt.legend(["RRT", "RRT*", "Bi-RRT", "FMT"], loc='upper left', prop=fontP)
plt.xlabel("Normalised X")
plt.ylabel("Normalised Y")
plt.show()